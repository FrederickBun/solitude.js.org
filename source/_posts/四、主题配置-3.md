---
title: Solitude å®‰è£…æ–‡æ¡£ï¼ˆå››ï¼‰ï¼šä¸»é¢˜é…ç½®-3
abbrlink: 3c80d950
date: 2024-05-04 16:00:00
update: 2024-05-04 16:00:00
recommend: true
categories:
  - é…ç½®æ–‡æ¡£
tags:
  - æ•™ç¨‹
cover: https://s3.qjqq.cn/47/6636269a59950.webp!color
---

{% note flat success %}

æ–‡æ¡£ç›®å½•
[ğŸš€ å¿«é€Ÿå¼€å§‹](/p/222d372e.html) - [ğŸ”© ä¸»é¢˜é…ç½®-1](/p/c7b87cc.html) - [ğŸ¹ ä¸»é¢˜é…ç½®-2](/p/ce332f00.html) - [ğŸ¯ ä¸»é¢˜é…ç½®-3](/p/3c80d950.html) - [ğŸ”§ é¡µé¢é…ç½®](/p/2d1abc96.html) - [ğŸ“¦ ä¸»é¢˜é—®ç­”](/p/feaa1bcb.html)

{% endnote %}

## æœç´¢

ä¸»é¢˜æ”¯æŒï¼š**æœ¬åœ°æœç´ **ã€**Algolia æœç´¢**

```yaml
# æœç´¢
# search
# warningï¼šå¼€å¯å‰éœ€è¦å®‰è£…æœç´¢æ’ä»¶
# warning: You need to install the search plugin before turning it on
search:
  enable: true
  type: local # localã€algolia
  # æ¨èæ ‡ç­¾
  # Recommended tags
  tags:
  # - Solitude
  # - Hexo
  algolia:
  # hits:
  # per_page: 6
  local:
    preload: false
    CDN:
```
> tags: æœç´¢æ¡†ä¸‹æ–¹æ˜¾ç¤ºçš„å¿«æ·æ ‡ç­¾ï¼Œåªèƒ½æ·»åŠ æ ‡ç­¾

{% tabs æœç´¢ %}

<!-- tab æœ¬åœ°æœç´¢ -->

1. å®‰è£… [hexo-generator-searchdb](https://github.com/next-theme/hexo-generator-searchdb) æˆ–è€… [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)
2. æ ¹æ®é€‰æ‹©çš„æ’ä»¶æ·»åŠ é…ç½®ä¿¡æ¯åˆ° hexo é…ç½®æ–‡ä»¶ï¼Œæ•°æ®æ–‡ä»¶æ ¼å¼é€‰æ‹©`xml`

<!-- endtab -->

<!-- tab Algolia -->

> å¦‚æœä½ ä½¿ç”¨ hexo-algoliasearchï¼Œè¯·è®°å¾—é…ç½® fields å‚æ•°çš„ title, permalink å’Œ content

1. å®‰è£… [hexo-algolia](https://github.com/oncletom/hexo-algolia) æˆ–è€… [hexo-algoliasearch](https://github.com/LouisBarranqueiro/hexo-algoliasearch)
2. æ ¹æ®é€‰æ‹©çš„æ’ä»¶æ·»åŠ é…ç½®ä¿¡æ¯åˆ° hexo é…ç½®æ–‡ä»¶

<!-- endtab -->

{% endtabs %}

## è¯„è®º

ä¸»é¢˜æ”¯æŒï¼š**twikoo**ã€**waline**ã€**valine**ã€**artalk**

**åŸºæœ¬é…ç½®ï¼š**
```yaml
# è¯„è®º
# comment
comment:
  use:  # waline, twikoo, valine, artalk
  commentBarrage: false # çƒ­è¯„å¼€å…³ / Hot comment switch
  lazyload: false # æ‡’åŠ è½½
  count: false # è¯„è®ºæ•°æ˜¾ç¤º
  avatar: https://cravatar.cn # çƒ­è¯„è·å–å¤´åƒçš„æº
  newest_comment: # æœ€æ–°è¯„è®º
    enable: false
    storage: .2 # ç¼“å­˜æ—¶é—´
```
> **use**ï¼šä½¿ç”¨å“ªäº›è¯„è®ºå¡«è¿›å»ï¼Œæœ€å¤šä¸¤ä¸ªï¼Œä½¿ç”¨è‹±æ–‡åŠè§’ **,** åˆ†å‰²
> **commentBarrage**ï¼šå¼€å¯åä¼šæ‰“å¼€çƒ­è¯„å¼¹å¹•ï¼Œè¿™æ˜¯æ€»å¼€å…³ï¼Œå…³é—­ä¹‹åå…¶ä½™çš„çƒ­è¯„å¼¹å¹•éƒ¨åˆ†éƒ½ä¼šå…³é—­
> **lazyload**ï¼šå¼€å¯åè¯„è®ºåªä¼šåœ¨æµè§ˆè€…æµè§ˆåˆ°è¯„è®ºåŒºæ—¶æ‰ä¼šè¿›è¡ŒåŠ è½½
> **count**ï¼šç»Ÿè®¡è¯„è®ºæ•°æ˜¾ç¤º
> **avatar**ï¼šæ ¹æ®é‚®ç®±è·å–å¤´åƒçš„æº
> **newest_comment**ï¼šæœ€æ–°è¯„è®º

{% tabs è¯„è®º %}

<!-- tab Twikoo -->

twikoo æ˜¯ä¸€æ¬¾æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼çš„è¯„è®º

```yaml
# twikoo é…ç½®ä¿¡æ¯
# twikoo settings
twikoo: # https://twikoo.js.org/
  envId: 'your envid' # ä½ éƒ¨ç½²twikooçš„åœ°å€
  lang: "zh-CN" # è¯­è¨€
  accessToken: # accessTokenï¼ˆåœ¨æµè§ˆå™¨æ§åˆ¶å°cookiesè·å–ï¼‰
```

<!-- endtab -->

<!-- tab Waline -->

Waline æ˜¯ä¸€æ¬¾æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼çš„è¯„è®º

```yaml
# waline é…ç½®ä¿¡æ¯
# waline settings
waline: # https://waline.js.org/
  envId: 'your serverURL' # url: https://waline.wzsco.top
  pageview: false # æ˜¯å¦å¼€å¯é¡µé¢è®¿é—®é‡ç»Ÿè®¡ / Whether to enable page access statistics
  option: # walineé…ç½®é¡¹ / waline configuration item
```

<!-- endtab -->

<!-- tab Valine -->

Valine æ˜¯ä¸€æ¬¾éƒ¨ç½²ç®€å•çš„è¯„è®º

```yaml
valine:
  appId: 'your app id' # leancloud application app id
  appKey: 'your app key' # leancloud application app key
  serverURLs: 'your serverURL' # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)
  avatar: monsterid
  visitor: true # æ˜¯å¦æ˜¾ç¤ºè®¿é—®ç»Ÿè®¡
  option: # options list
```

**è‡ªå®šä¹‰è¡¨æƒ…åŒ…ï¼š**

åœ¨ _data æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶ **valine.json**

```json
{ 
  "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",
  "tv_äº²äº²": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",
  "tv_å·ç¬‘": "bb690d4107620f1c15cff29509db529a73aee261.png",
  "tv_å†è§": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",
  "tv_å†·æ¼ ": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",
  "tv_å‘æ€’": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",
  "tv_å‘è´¢": "34db290afd2963723c6eb3c4560667db7253a21a.png",
  "tv_å¯çˆ±": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",
  "tv_åè¡€": "09dd16a7aa59b77baa1155d47484409624470c77.png",
  "tv_å‘†": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",
  "tv_å‘•å": "9f996894a39e282ccf5e66856af49483f81870f3.png",
  "tv_å›°": "241ee304e44c0af029adceb294399391e4737ef2.png",
  "tv_åç¬‘": "1f0b87f731a671079842116e0991c91c2c88645a.png",
  "tv_å¤§ä½¬": "093c1e2c490161aca397afc45573c877cdead616.png",
  "tv_å¤§å“­": "23269aeb35f99daee28dda129676f6e9ea87934f.png",
  "tv_å§”å±ˆ": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",
  "tv_å®³ç¾": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",
  "tv_å°´å°¬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",
  "tv_å¾®ç¬‘": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",
  "tv_æ€è€ƒ": "90cf159733e558137ed20aa04d09964436f618a1.png",
  "tv_æƒŠå“": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png"
} 
```

<!-- endtab -->

<!-- tab Artalk -->

Artalk æ˜¯ä¸€æ¬¾åªæ”¯æŒç§æœ‰éƒ¨ç½²è¯„è®ºç³»ç»Ÿ

```yaml
# artalk é…ç½®ä¿¡æ¯
# artalk settings
artalk:
  server: # server url / åç«¯åœ°å€
  site: # site name / ç«™ç‚¹å
  option: # options    
```

<!-- endtab -->


{% endtabs %}

## æ–‡ç«  AI æ‘˜è¦

> æ­¤åŠŸèƒ½ä»…ä¸­å›½å¤§é™†åŒºåŸŸå¯ç”¨ï¼Œå…¶ä»–åœ°åŒºä¸ä¿è¯å¯ç”¨æ€§ã€‚

> ä½¿ç”¨å‰åˆ° [Post Chat](https://ai.tianli0.top/?InviteID=OZ3Z0V2R) æ³¨å†Œ åˆ° [Heo Store](https://store.zhheo.com/?cid=1&mid=2) è´­ä¹°å…‘æ¢
> è´­ä¹°å®Œæˆåï¼Œè¿›å…¥ [ç®¡ç†åå°](https://summary.zhheo.com/)ï¼Œç™»å½•åç‚¹å‡»å³ä¸Šè§’çš„â€œæ·»åŠ æ–°ç½‘ç«™â€ï¼Œè¾“å…¥å¯†é’¥å³å¯ç»‘å®šæˆåŠŸã€‚
> è‹¥éœ€è¦è¿›è¡Œæœ¬åœ°è°ƒè¯•ï¼Œè¯·åœ¨ç®¡ç†åå°å°† `127.0.0.1:ç«¯å£` åŠ å…¥ç™½åå•ï¼Œå¦åˆ™ä¼šè§¦å‘é˜²ç›— KEYï¼Œæ— æ³•æ­£å¸¸è·å–æ‘˜è¦ã€‚

```yaml
# æ–‡ç« æ‘˜è¦AI
# post abstract AI
post_ai:
  enable: false
  # å³ä¾§æ˜¾ç¤ºçš„æ¨¡å‹åç§°
  # Model name displayed on the right
  modelName: GPT 4
  # key
  # å…·ä½“è·å–æ–¹æ³•è§æ–‡æ¡£
  # Specific acquisition method, see the document
  key:
  # è‡ªä»‹
  # talk
  talk: # æˆ‘æ˜¯ Efu å¼€å‘çš„æ‘˜è¦ç”ŸæˆåŠ©ç†EfuGPTï¼ŒEfuGPTåœ¨é™æ€éƒ¨ç½²æ—¶è¿›è¡Œæ‘˜è¦çš„æ’°å†™ï¼Œå¹¶ä¸”åœ¨è®¿å®¢è®¿é—®æ—¶é€šè¿‡EfuCorrectionè½¬è¯‘åçš„æ–‡æœ¬æ‘˜è¦å®ç°å·¥å…·ã€‚æˆ‘åœ¨è¿™é‡Œåªè´Ÿè´£å·²ç»ç”Ÿæˆçš„æ‘˜è¦æ˜¾ç¤ºï¼Œä½ æ— æ³•ä¸æˆ‘ç›´æ¥æ²Ÿé€šï¼Œä½†æˆ‘å¯ä»¥å›ç­”ä¸€äº›é¢„è®¾çš„é—®é¢˜ã€‚
  # éšæœºæ–‡ç« æŒ‰é’®
  # Random post button
  randomPost: false
  # ä¸¾æŠ¥é“¾æ¥ï¼Œä¸å¡«ä¸æ˜¾ç¤º
  # Report link, do not fill in and do not display
  report: https://efu.me/
  # åº•éƒ¨æç¤º
  # Bottom tip
  tips: # æ­¤å†…å®¹æ ¹æ®æ–‡ç« ç”Ÿæˆï¼Œå¹¶ç»è¿‡äººå·¥å®¡æ ¸ï¼Œä»…ç”¨äºæ–‡ç« å†…å®¹çš„è§£é‡Šä¸æ€»ç»“
```

> è¯·æ³¨æ„ï¼Œæ­¤åŠŸèƒ½éœ€è¦åœ¨æ–‡ç« ç”Ÿæˆæ—¶è¿›è¡Œæ‘˜è¦çš„æ’°å†™ï¼Œå› æ­¤åœ¨æ–‡ç« ç”Ÿæˆæ—¶ä¼šæœ‰ä¸€å®šçš„è€—æ—¶ã€‚
> ç”±äºæ‘˜è¦æ˜¯é€šè¿‡è¯·æ±‚ç”Ÿæˆçš„ï¼Œå› æ­¤åœ¨æ–‡ç« ç”Ÿæˆæ—¶ä¼šæœ‰ä¸€å®šçš„è€—æ—¶ã€‚
> [æ‰‹åŠ¨ç”Ÿæˆæ‘˜è¦](https://www.efu.me/posts/fdf87933.html)

## PostChat èŠå¤©

> æ­¤åŠŸèƒ½ä»…ä¸­å›½å¤§é™†åŒºåŸŸå¯ç”¨ï¼Œå…¶ä»–åœ°åŒºä¸ä¿è¯å¯ç”¨æ€§ã€‚

> ä½¿ç”¨å‰åˆ° [Post Chat](https://ai.tianli0.top/?InviteID=OZ3Z0V2R) æ³¨å†Œ åˆ° [Heo Store](https://store.zhheo.com/?cid=1&mid=2) è´­ä¹°å…‘æ¢

```yaml
# Post Chat AI
# åå°åœ°å€ï¼šhttps://ai.tianli0.top/?InviteID=OZ3Z0V2R
tianli_talk:
  enable: false
  title: æ™ºèƒ½å®¢æœä¸æœç´¢
  key: # è´­ä¹°çš„key
  # é»˜è®¤å€¼
  # backgroundColor: "var(--efu-main)",
  # bottom: "60px",
  option: #https://ai.tianli0.top/codeMaker.html
  #  defaultInput: false
  #  upLoadWeb: true
  #  userTitle: Efu Chat
  #  userDesc: ä½ å¥½ï¼Œæˆ‘æ˜¯ Efu çš„æ™ºèƒ½å®¢æœï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„ï¼Ÿ
  #  showInviteLink: 'https://ai.tianli0.top/?InviteID=OZ3Z0V2R'
  #  blackDom:
  #    - .aplayer
```

## PWA

> PWA æ”¯æŒçš„å‰ææ¡ä»¶ï¼šå…¨ç«™èµ„æºå¿…é¡»ä¸º HTTPSã€‚

PWA å…¨ç§°ä¸º **Progressive Web App** ï¼Œä¸­æ–‡è¯‘ä¸ºæ¸è¿›å¼ Web APPï¼Œå…¶ç›®çš„æ˜¯é€šè¿‡å„ç§ Web æŠ€æœ¯å®ç°ä¸åŸç”Ÿ App ç›¸è¿‘çš„ç”¨æˆ·ä½“éªŒã€‚ çºµè§‚ç°æœ‰ Web åº”ç”¨ä¸åŸç”Ÿåº”ç”¨çš„å¯¹æ¯”å·®è·ï¼Œå¦‚ç¦»çº¿ç¼“å­˜ã€æ²‰æµ¸å¼ä½“éªŒç­‰ç­‰ï¼Œå¯ä»¥é€šè¿‡å·²ç»å®ç°çš„ Web æŠ€æœ¯å»å¼¥è¡¥è¿™äº›å·®è·ï¼Œæœ€ç»ˆè¾¾åˆ°ä¸åŸç”Ÿåº”ç”¨ç›¸è¿‘çš„ç”¨æˆ·ä½“éªŒæ•ˆæœã€‚

**ç´ æ**

è¯·åŠ ä¸»é¢˜äº¤æµç¾¤è·å–

1. åœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å¼€å¯ pwa é€‰é¡¹
    ```yaml
    # PWA
    pwa:
      enable: true # æ˜¯å¦å¼€å¯
      manifest: /manifest.json # manifest.json æ–‡ä»¶è·¯å¾„
      theme_color: '#ffffff' # ä¸»é¢˜é¢œè‰²
      mask_icon: https://fastly.jsdelivr.net/npm/solitude-source@1.0.0/img/pwa/180.png # é®ç½©å›¾æ ‡
      apple_touch_icon: https://fastly.jsdelivr.net/npm/solitude-source@1.0.0/img/pwa/180.png # è‹¹æœè§¦æ‘¸å›¾æ ‡
      bookmark_icon: https://fastly.jsdelivr.net/npm/solitude-source@1.0.0/img/pwa/180.png # ä¹¦ç­¾å›¾æ ‡
      favicon_32_32: https://fastly.jsdelivr.net/npm/solitude-source@1.0.0/img/pwa/32.png # 32x32å›¾æ ‡
      favicon_16_16: https://fastly.jsdelivr.net/npm/solitude-source@1.0.0/img/pwa/16.png # 16x16å›¾æ ‡
    ```
2. å®‰è£… hexo-swppã€hexo-backends æ’ä»¶
    ```bash
    npm install hexo-swpp swpp-backends -save
    ```
3. ä¿®æ”¹ hexo é…ç½®æ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹
    ```yaml
    swpp:
      # æ˜¯å¦å¯ç”¨æ’ä»¶
      enable: true
      # æ˜¯å¦åœ¨å‘å¸ƒå‰è‡ªåŠ¨æ‰§è¡Œè„šæœ¬
      # auto_exec: true
      # æ„å»ºæ—¶æ‹‰å–ç‰ˆæœ¬æ–‡ä»¶çš„è­¦å‘Šç­‰çº§ï¼Œç¼ºçœä¸º 1ï¼ˆè¯¥åŠŸèƒ½ä»…åœ¨ swpp-backends ç‰ˆæœ¬å· >= 2.1.2 æ—¶å¯ç”¨ï¼‰
      # 0 - è¡¨ç¤ºä¸å…è®¸å‡ºç° 404 æƒ…å†µï¼›1 - è¡¨ç¤ºå…è®¸æœåŠ¡å™¨è¿”å› 404 çŠ¶æ€ç ï¼›2 - è¡¨ç¤ºå…è®¸ä»»ä½• 404ï¼ˆåŒ…æ‹¬ DNS è§£æå¤±è´¥ç­‰ï¼‰
      # warn_level: 1
      # æ£€æŸ¥ç‰ˆæœ¬çš„ URLï¼Œä¸èƒ½ä»¥ '/' ç»“å°¾
      # npm_url: 'https://registry.npmmirror.com'
    ```
4. æ–°å»º [æ ¹ç›®å½•]/source/manifest.json æ–‡ä»¶ï¼Œå¹¶æ–°å¢ä»¥ä¸‹å†…å®¹
    > è¯·å°†å…¶ä¸­çš„å†…å®¹æ”¹ä¸ºè‡ªå·±çš„ä¿¡æ¯
    ```json
    {
    "name": "Efu",
    "short_name": "Efu",
    "theme_color": "#0E83CD",
    "background_color": "#0E83CDdd",
    "description": "Be careful and enjoy it.",
    "display": "fullscreen",
    "scope": "/",
    "start_url": "/",
    "lang": "en-US",
    "id": "/",
    "icons": [
        {
        "src": "/img/pwa/favicon_16.ico",
        "sizes": "16x16",
        "type": "image/png",
        "purpose": "any"
        },
        {
        "src": "/img/pwa/favicon_16.ico",
        "sizes": "16x16",
        "type": "image/png",
        "purpose": "maskable"
        },
        {
        "src": "/img/pwa/favicon_32.ico",
        "sizes": "32x32",
        "type": "image/png",
        "purpose": "any"
        },
        {
        "src": "/img/pwa/favicon_32.ico",
        "sizes": "32x32",
        "type": "image/png",
        "purpose": "maskable"
        },
        {
        "src": "/img/pwa/favicon.ico",
        "sizes": "64x64",
        "type": "image/png",
        "purpose": "any"
        },
        {
        "src": "/img/pwa/favicon.ico",
        "sizes": "64x64",
        "type": "image/png",
        "purpose": "maskable"
        },
        {
        "src": "/img/pwa/favicon_128.ico",
        "sizes": "128x128",
        "type": "image/png",
        "purpose": "any"
        },
        {
        "src": "/img/pwa/favicon_128.ico",
        "sizes": "128x128",
        "type": "image/png",
        "purpose": "maskable"
        },
        {
        "src": "/img/pwa/favicon_256.ico",
        "sizes": "256x256",
        "type": "image/png",
        "purpose": "any"
        },
        {
        "src": "/img/pwa/favicon_256.ico",
        "sizes": "256x256",
        "type": "image/png",
        "purpose": "maskable"
        }
    ],
    "screenshots": [
        {
        "src": "https://s3.qjqq.cn/47/660a7c39918d9.webp!color",
        "sizes": "1920x1080",
        "type": "image/webp",
        "form_factor": "wide",
        "label": "Fullscreen of Efu"
        },
        {
        "src": "https://s3.qjqq.cn/47/660a7c39918d9.webp!color",
        "sizes": "1920x1080",
        "type": "image/webp",
        "form_factor": "narrow",
        "label": "Fullscreen of Efu"
        }
    ],
    "splash_pages": null
    }       
    ```
5. æ–°å»º [æ ¹ç›®å½•]/sw-rules.js æ–‡ä»¶ï¼Œå¹¶æ–°å¢ä»¥ä¸‹å†…å®¹
    > æ›´å¤šè‡ªå®šä¹‰ä¿¡æ¯è¯·æŸ¥çœ‹ swpp æ–‡æ¡£
    ```js
    module.exports.config = {
        /** @type {?ServiceWorkerConfig|boolean} */
        serviceWorker: {
        escape: 0,
        cacheName: 'SolitudeCache',
        debug: false,
        },
        register: {
        onsuccess: undefined,
        onerror: () =>
            console.error(
            'Service Worker æ³¨å†Œå¤±è´¥ï¼å¯èƒ½æ˜¯ç”±äºæ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯¥åŠŸèƒ½ï¼'
            ),
        builder: (root, framework, pluginConfig) => {
            const { onerror, onsuccess } = pluginConfig.register;
            return `
            <script>
                (() => {
                    const sw = navigator.serviceWorker;
                    const error = ${onerror && onerror.toString()};
                    if (!sw?.register('${new URL(root).pathname}sw.js')
                        ${onsuccess ? `?.then(${onsuccess.toString()})` : ''}
                        ?.catch(error)
                    ) error()
                })()
            </script>`;
        },
        },
        /** @type {?DomConfig|boolean} */
        dom: {
        /** @type {?VoidFunction} */
        onsuccess: () => {
            caches
            .match(location.href)
            .then((res) => {
                if (res)
                res.json().then((json) => {
                    utils &&
                    utils.snackbarShow(
                        `å·²åˆ·æ–°ç¼“å­˜ï¼Œæ›´æ–°ä¸º${
                        json.global + '.' + json.local
                        }ç‰ˆæœ¬æœ€æ–°å†…å®¹`,
                        false,
                        2000
                    );
                });
                else console.info('æœªæ‰¾åˆ°ç¼“å­˜');
            })
            .catch((error) => console.error('ç¼“å­˜åŒ¹é…å‡ºé”™', error));
        },
        },
        /** @type {?VersionJsonConfig|boolean} */
        json: {
        /** @type {number} */
        maxHtml: 15,
        /** @type {number} */
        charLimit: 1024,
        /** @type {string[]} */
        merge: [],
        exclude: {
            /** @type {RegExp[]} */
            localhost: [],
            /** @type {RegExp[]} */
            other: [],
        },
        },
        /** @type {?ExternalMonitorConfig|boolean} */
        external: {
        /** @type {number} */
        timeout: 5000,
        /** æ‹‰å–æ–‡ä»¶æ—¶åœ°å¹¶å‘é™åˆ¶ */
        concurrencyLimit: 100,
        /** @type {({head: string, tail: string}|function(string):string[])[]} */
        js: [],
        /** @type {RegExp[]} */
        stable: [
            /^https:\/\/npm\.elemecdn\.com\/[^/@]+\@[^/@]+\/[^/]+\/[^/]+$/,
            /^https:\/\/cdn\.cbd\.int\/[^/@]+\@[^/@]+\/[^/]+\/[^/]+$/,
            /^https:\/\/cdn\.jsdelivr\.net\/npm\/[^/@]+\@[^/@]+\/[^/]+\/[^/]+$/,
        ],
        replacer: (srcUrl) => {
            if (srcUrl.startsWith('https://cdn.jsdelivr.net/npm/')) {
            const pathname = new URL(srcUrl).pathname;
            return [
                srcUrl,
                `https://cdn.cbd.int/${pathname}`,
                `https://npm.elemecdn.com/${pathname}`,
                `https://fastly.jsdelivr.net/npm/${pathname}`,
            ];
            } else {
            return srcUrl;
            }
        },
        },
    };

    module.exports.cacheRules = {
        simple: {
        clean: true,
        search: false,
        match: (url, $eject) =>
            url.host === $eject.domain && ['/404.html'].includes(url.pathname),
        },
        cdn: {
        clean: true,
        match: (url) =>
            [
            'cdn.cbd.int',
            'lf26-cdn-tos.bytecdntp.com',
            'lf6-cdn-tos.bytecdntp.com',
            'lf3-cdn-tos.bytecdntp.com',
            'lf9-cdn-tos.bytecdntp.com',
            'cdn.staticfile.org',
            'npm.elemecdn.com',
            ].includes(url.host) &&
            url.pathname.match(/\.(js|css|woff2|woff|ttf|cur)$/),
        },
    };

    module.exports.getSpareUrls = (srcUrl) => {
        if (srcUrl.startsWith('https://npm.elemecdn.com')) {
        return {
            timeout: 3000,
            list: [
            srcUrl,
            `https://fastly.jsdelivr.net/${new URL(srcUrl).pathname}`,
            ],
        };
        }
    };

    module.exports.ejectValues = (hexo, rules) => {
        return {
        domain: {
            prefix: 'const',
            value: new URL(hexo.config.url).host,
        },
        };
    };

    module.exports.skipRequest = (request) => request.url.startsWith("https://i0.hdslb.com") ||
        request.url.startsWith('https://meting.qjqq.cn') ||
        request.url.startsWith('https://api.i-meto.com');
    ```
6. å…¨éƒ¨æ­¥éª¤æ“ä½œå®Œæˆåï¼Œä½ å¯ä»¥é€šè¿‡ Chrome æ§åˆ¶å°çš„ Lighthouse æ£€æŸ¥ PWA é…ç½®æ˜¯å¦ç”Ÿæ•ˆä»¥åŠé…ç½®æ˜¯å¦æ­£ç¡®ã€‚

<div align="right">

{% btn '/p/2d1abc96.html',ä¸‹ä¸€æ­¥ï¼ˆé¡µé¢é…ç½®ï¼‰,st-book-2-fill,outline %}

</div>